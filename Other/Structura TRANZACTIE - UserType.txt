SET NUMERIC_ROUNDABORT OFF
GO
SET ANSI_PADDING, ANSI_WARNINGS, CONCAT_NULL_YIELDS_NULL, ARITHABORT, QUOTED_IDENTIFIER, ANSI_NULLS ON
GO
SET XACT_ABORT ON
GO
SET TRANSACTION ISOLATION LEVEL Serializable
GO
BEGIN TRANSACTION
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO
PRINT N'Creating types'
GO
CREATE TYPE [dbo].[UDT_TABLE_IdsList] AS TABLE
(
[Id] [int] NOT NULL,
[IdentityID] [int] NOT NULL IDENTITY(1, 1),
PRIMARY KEY CLUSTERED ([Id])
)
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO
CREATE TYPE [dbo].[PutAwayDetailsType] AS TABLE
(
[id] [int] NOT NULL IDENTITY(1, 1),
[PalletID] [int] NULL,
[CellID] [int] NULL,
[ProductID] [int] NULL,
[Quantity] [float] NULL,
[LotID] [int] NULL,
[SN] [nvarchar] (100) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
[OrderDetailID] [int] NULL
)
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO
COMMIT TRANSACTION
GO
IF @@ERROR <> 0 SET NOEXEC ON
GO
DECLARE @Success AS BIT
SET @Success = 1
SET NOEXEC OFF
IF (@Success = 1) PRINT 'The database update succeeded'
ELSE BEGIN
	IF @@TRANCOUNT > 0 ROLLBACK TRANSACTION
	PRINT 'The database update failed'
END
GO
